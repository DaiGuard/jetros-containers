FROM nvcr.io/nvidia/l4t-base:r36.2.0 

# Install ROS
COPY ./scripts/* /tmp/
RUN /tmp/ros_installer.sh

# Copy entrypoint script
COPY ./entrypoint/ros_entrypoint.sh /ros_entrypoint.sh

# Set environment variables
ENV ROS_DISTRO=humble

WORKDIR /root

# Set entrypoint
ENTRYPOINT [ "/ros_entrypoint.sh" ]

# Default command
CMD ["/bin/bash"]

